/*!
 * uri.js v0.1.1
 * Copyright (c) 2013 Nathaniel Higgins; Licensed MIT
 * Built on 2013-06-19 
 */
!function(){"use strict";var a=function(b){if(this instanceof a)return a(b);var c={};return"string"==typeof b&&(b={query:b}),"query"in b&&(c.query=a.query(b.query),c.search=a.extract_query(b.query)),c};a.prototype={extract_query:function(a){var b=a.split("?"),c=b.slice(1===b.length?0:1),d=c.join("?").split("#")[0];return"?"+d},query:function(a,b){"undefined"==typeof b&&(b=!0);var c=this.extract_query(a);c=c.replace(/^\?/,"");for(var d=c.split("&"),e={},f=0,g=d.length;g>f;f++){var h,i=d[f],j="";if(i.match("=")){var k=i.split("=");h=k[0],j=k[1]}else h=i;""!==j&&b&&(j=decodeURIComponent(j)),e[h]=j}return e},extend:function(){var a=this,b=function(){return a.extend.apply(a,arguments)};if(arguments.length<2)return{};"boolean"!=typeof arguments[0]&&Array.prototype.unshift.call(arguments,!0);var c=Array.prototype.shift.call(arguments),d=Array.prototype.shift.call(arguments),e=Array.prototype.shift.call(arguments);if(arguments.length>0){for(Array.prototype.unshift.call(arguments,e);arguments.length>0;)e=Array.prototype.shift.call(arguments),"object"==typeof e&&(d=b(c,d,e));return d}"object"!=typeof d&&(d={}),"object"!=typeof e&&(e={});for(var f in e)if(Object.prototype.hasOwnProperty.call(e,f)){var g=e[f];d[f]=c&&"object"==typeof g&&"object"==typeof d[f]?b(d[f],g):g}return d}};var b=function(a,b){return function(){return a.apply(b,arguments)}};for(var c in a.prototype)Object.prototype.hasOwnProperty.call(a.prototype,c)&&(a[c]=b(a.prototype[c],a));if("undefined"!=typeof exports&&"undefined"!=typeof module)module.exports=exports=a;else if("undefined"!=typeof define)define(function(b,c,d){d.exports=c=a});else if("undefined"!=typeof window&&"undefined"==typeof uriCallback){window.URI=a;var d=window.location,e={auto:{query:!1},keys:{query:"query"}};d.query_opts||(d.query_opts={});var f=a.extend({},e,d.query_opts);delete d.query_opts,(f.auto||"object"==typeof f.auto&&f.auto.query)&&(d[f.keys.query]=a.query(d.search))}else"function"==typeof uriCallback&&uriCallback(a)}();